<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <style>
      body {
        font: 10px sans-serif;
      }

      .axis path,
      .axis line {
        fill: none;
        stroke: #000;
        shape-rendering: crispEdges;
      }
    </style>
  </head>
  <body>
    <div id="chart"></div>

    <script data-main="../../src/require.config.js"
            src="../../node_modules/requirejs/require.js"></script>
    <script>
      require(["../../src/index"], function (jubilee) {
        var data = {
          series: [
            [
              { x: 1411761450000, y: 41, label: "band"},
              { x: 1411761480000, y: 18, label: "band"},
              { x: 1411761510000, y: 22, label: "band"},
              { x: 1411761540000, y: 17, label: "band"},
              { x: 1411761570000, y: 17, label: "band"}
            ],
            [
              { x: 1411761450000, y: 91, label: "of"},
              { x: 1411761480000, y: 88, label: "of"},
              { x: 1411761510000, y: 38, label: "of"},
              { x: 1411761540000, y: 47, label: "of"},
              { x: 1411761570000, y: 57, label: "of"}
            ],
            [
              { x: 1411761450000, y: 191, label: "brothers"},
              { x: 1411761480000, y: 188, label: "brothers"},
              { x: 1411761510000, y: 12, label: "brothers"},
              { x: 1411761540000, y: 17, label: "brothers"},
              { x: 1411761570000, y: 17, label: "brothers"}
            ]
          ]
        };

        var clickFunction = function (e, d, i) { console.log(e, d, i); };
        var brushFunction = function (brush) { console.log(brush.extent()); };

        // D3 selection
        var selection = d3.select("#chart").datum(data.series);
        var color = d3.scale.category10(["band", "of", "brothers"]);

        // Example normal area chart configuration
        var myChart = jubilee.chart.series()
          .width(700)
          .height(400)
          .yScale({ nice: true })
          .stack({ offset: "zero" })
//          .area({
//            interpolate: "basis",
//            properties: {
//              fill: function (d, i) {
//                var point = d.slice(0,1).pop();
//                return color(point.label);
//              },
//              stroke: function (d, i) {
//                var point = d.slice(0,1).pop();
//                return color(point.label);
//              }
//            }
//          })
          .line({
            interpolate: "linear",
            properties: {
              stroke: function (d, i) {
                var point = d.slice(0,1).pop();
                return color(point.label);
              }
            }
          })
          .points({
            class: "points",
            radius: 5,
            properties: {
              fill: "#ffffff",
              stroke: function (d, i) { return color(d.label); },
              strokeWidth: 3
            }
          })
          .on("click", clickFunction)
          .on("brushend", brushFunction);

        selection.call(myChart);
      });
    </script>
  </body>
</html>
